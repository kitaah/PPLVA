document.addEventListener("DOMContentLoaded",()=>{let Question=function(questionObj){function createNewAnswer(obj){return this.value={content:"Answer",isRight:!1},this.value=Object.assign(this.value,obj),this.html=document.createElement("button"),this.html.classList.add("answer__content"),this.html.textContent=this.value.content,this.html}this.value={content:"Question",answers:[]},this.chosenAnswer=null,this.html=null,this.questionContent=null,this.questionWithAnswers=null,this.questionWithFeedback=null,this.value=Object.assign(this.value,questionObj),this.onQuestionChosen=({detail:detail})=>{this.chosenAnswer={value:detail.answer,html:detail.answerHtml},this.update(),document.dispatchEvent(new CustomEvent("question-chosen",{detail:{question:this,answer:detail.answer}}))},this.create=function(){this.html=document.createElement("p"),this.html.classList.add("question__content"),this.questionContent=document.createElement("h2"),this.questionContent.textContent=this.value.content,this.questionWithAnswers=document.createElement("p"),this.questionWithAnswers.classList.add("answers__content");for(let i=0;i<this.value.answers.length;i++){const ansObj=this.value.answers[i];let answer=createNewAnswer(ansObj);answer.onclick=e=>{null!==this.chosenAnswer&&this.chosenAnswer.html.classList.remove("chosen"),answer.classList.add("chosen"),this.html.dispatchEvent(new CustomEvent("question-chosen",{detail:{answer:ansObj,answerHtml:answer}}))},this.questionWithAnswers.appendChild(answer)}return this.questionWithFeedback=document.createElement("p"),this.questionWithFeedback.classList.add("question__feedback"),this.html.appendChild(this.questionContent),this.html.appendChild(this.questionWithAnswers),this.html.appendChild(this.questionWithFeedback),this.html.addEventListener("question-chosen",this.onQuestionChosen),this.html},this.disable=function(){this.html.classList.add("dead"),this.html.onclick=e=>{e.stopPropagation()},this.html.removeEventListener("question-chosen",this.onQuestionChosen);let answers=this.html.querySelectorAll(".answer__content");for(let i=0;i<answers.length;i++){let answer;answers[i].onclick=null}},this.remove=function(){let children=this.html.querySelectorAll("*");for(let i=0;i<children.length;i++){const child=children[i];this.html.removeChild(child)}this.html.removeEventListener("question-chosen",this.onQuestionChosen),this.html.parentNode.removeChild(this.html),this.html=null},this.update=function(){let rightFeedback,wrongFeedback;this.html=this.html||document.createElement("p"),rightFeedback="Bravo ! Bonne rÃ©ponse ðŸ˜Š ",wrongFeedback="Oh ! Mauvaise rÃ©ponse ðŸ˜¢",null!==this.chosenAnswer&&(this.chosenAnswer.value.isRight?(this.html.classList.add("right"),this.html.classList.remove("wrong"),this.questionWithFeedback.innerHTML=rightFeedback):(this.html.classList.add("wrong"),this.html.classList.remove("right"),this.questionWithFeedback.innerHTML=wrongFeedback))}},questionsContent=[{content:"Concernant les codes en entreprise, il est important deâ€¦ ",answers:[{content:"Se montrer anarchiste",isRight:!1},{content:"Apprendre le code Python",isRight:!1},{content:"Sâ€™informer avant son intÃ©gration",isRight:!0},{content:"ConnaÃ®tre un bon avocat",isRight:!1}]},{content:"Comment faire preuve de professionnalisme ? ",answers:[{content:"Faire des selfies avec Chantal de la compta",isRight:!1},{content:"Savourer de longues pauses cafÃ©",isRight:!1},{content:"Mentir pour se faire bien voir",isRight:!1},{content:"Se montrer rÃ©actif et compÃ©tent",isRight:!0}]},{content:"Comment crÃ©er efficacement du lien social ?",answers:[{content:"Sâ€™intÃ©resser aux autres",isRight:!0},{content:"Faire courir des rumeurs",isRight:!1},{content:"Organiser un loup-garou en rÃ©union",isRight:!1},{content:"Jouer un rÃ´le de gentil",isRight:!1}]},{content:"Laquelle de ces propositions est vraie ? ",answers:[{content:"Organisation, polyvalence et caprices",isRight:!1},{content:"Ecoute, manipulation et ponctualitÃ©",isRight:!1},{content:"Adaptation, curiositÃ© et respect",isRight:!0},{content:"Amour, gloire et beautÃ©",isRight:!1}]},{content:"Avant dâ€™Ãªtre embauchÃ©, il est important deâ€¦",answers:[{content:"Faire des faux diplÃ´mes",isRight:!1},{content:"DÃ©compresser en faisant du pilate",isRight:!1},{content:"SÃ©duire la RH lors de lâ€™entretien",isRight:!1},{content:"NÃ©gocier son contrat de travail",isRight:!0}]},{content:"Laquelle de ces attitudes n'est pas positive ?",answers:[{content:"DÃ©velopper son assertivitÃ©",isRight:!1},{content:"Imposer ses propres rÃ¨gles",isRight:!0},{content:"Sâ€™imprÃ©gner de la culture dâ€™entreprise",isRight:!1},{content:"Faire le point avec son manager",isRight:!1}]},{content:"Quâ€™est-il important de faire avant lâ€™envoi dâ€™un email ?",answers:[{content:"Se relire pour Ã©viter les fautes dâ€™orthographe",isRight:!0},{content:"Scotcher lâ€™Ã©tiquette dâ€™envoi",isRight:!1},{content:"VÃ©rifier sa connexion internet",isRight:!1},{content:"Choisir le lieu dâ€™expÃ©dition",isRight:!1}]},{content:"Quel comportement vaut-il mieux Ã©viter ?",answers:[{content:"Ne pas hÃ©siter Ã  poser des questions",isRight:!1},{content:"Avoir un style vestimentaire conforme",isRight:!1},{content:"ÃŠtre prÃªt Ã  tout pour arriver Ã  ses fins",isRight:!0},{content:"Faire preuve d'assurance",isRight:!1}]},{content:"Laquelle de ces propositions est vraie ?",answers:[{content:"Courtoisie, Ã©criture soignÃ©e, orgueil",isRight:!1},{content:"Assurance, ouverture dâ€™esprit, assertivitÃ©",isRight:!0},{content:"Organisation, empathie, rivalitÃ©",isRight:!1},{content:"Ecoute, agressivitÃ©, rÃ©activitÃ©",isRight:!1}]},{content:"Comment faire bonne impression dÃ¨s son arrivÃ©e ?",answers:[{content:"Faire un check Ã  son employeur",isRight:!1},{content:"Se montrer curieux, poli et souriant",isRight:!0},{content:"Organiser un pot d'arrivÃ©e avec de la vodka",isRight:!1},{content:"RÃ©citer Ã  voix haute le rÃ¨glement intÃ©rieur",isRight:!1}]}],questions=[],score=0,answeredQuestions=0,questionsContainer=document.getElementById("questions__content"),resultContainer=document.getElementById("result__content");function shuffle(ev){for(let i=ev.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[ev[i],ev[j]]=[ev[j],ev[i]]}}resultContainer.innerHTML=`Score: ${score}/${questionsContent.length}`,shuffle(questionsContent);for(let i=0;i<questionsContent.length;i++){let question=new Question({content:questionsContent[i].content,answers:questionsContent[i].answers});questionsContainer.appendChild(question.create()),questions.push(question)}document.addEventListener("question-chosen",({detail:detail})=>{detail.answer.isRight&&score++,answeredQuestions++,resultContainer.innerHTML=`Score: ${score}/${questions.length}`,detail.question.disable(),answeredQuestions==questions.length&&setTimeout((function(){alert(`Quiz terminÃ© ! ðŸ˜Š \nTon score est de ${score}/${questions.length}`)}),200)})});